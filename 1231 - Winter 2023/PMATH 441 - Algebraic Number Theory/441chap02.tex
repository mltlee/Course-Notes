\section{Discriminants}\label{sec:2}

\subsection{Elementary Properties}\label{subsec:2.1}
Let $K$ be a number with $[K : \Q] = n$ and consider its ring of integers 
$R = {\cal O}_K$. Given $\{v_1, \dots, v_n\} \subseteq R$, we want to find a 
way to discriminate whether or not $\{v_1, \dots, v_n\}$ is an integral 
basis for $R$. This leads us to the notion of the discriminant. 

\begin{defn}{defn:2.1}
    Let $K$ be a number field with $[K : \Q] = n$. Let $\sigma_1, 
    \dots, \sigma_n$ be the embeddings of $K$ into $\C$. The 
    {\bf discriminant} of $\{a_1, \dots, a_n\} \subseteq K$ is 
    \[ \disc(a_1, \dots, a_n) = \det\,[\sigma_i(a_j)]^2. \] 
\end{defn}\vspace{-0.15cm}

In the matrix $[\sigma_i(a_j)]$ above, the rows are encoded by the 
embeddings $\sigma_i$ and the columns are encoded by the elements $a_j$. 
Now, let's investigate some properties of the discriminant. 
\begin{enumerate}[(1)]
    \item The discriminant is independent of the choice of ordering 
    for both the embeddings $\sigma_i$ and the elements $a_j$. This is 
    because squaring the determinant kills any negatives obtained 
    by flipping rows or columns.

    \item Let $B = [\sigma_i(a_j)]$ and $A = [\sigma_j(a_i)] = B^T$. 
    Taking the transpose leaves the determinant unchanged, so
    \[ \disc(a_1, \dots, a_n) = \det(AB). \] 
    Now, observe that the $(i, j)$-th entry of $AB$ is 
    \[ \begin{bmatrix} \sigma_1(a_i) \\ \sigma_2(a_i) \\ \vdots \\ \sigma_n(a_i) \end{bmatrix} 
    \cdot \begin{bmatrix} \sigma_1(a_j) \\ \sigma_2(a_j) \\ \vdots \\ \sigma_n(a_j) \end{bmatrix}
    = \sum_{k=1}^n \sigma_k(a_i a_j) = \Tr_{K/\Q}(a_ia_j). \]
    Thus, we obtain an equivalent definition of the discriminant seen in 
    some texts, which is given by 
    \[ \disc(a_1, \dots, a_n) = \det\,[\Tr_{K/\Q}(a_ia_j)] \in \Q. \] 
    Moreover, if we also assume that $a_1, \dots, a_n \in {\cal O}_K$, then 
    \[ \disc(a_1, \dots, a_n) \in \Q \cap {\cal O}_K = \Z. \] 

    \item Let $v, w \in K^n$ and $A \in M_n(\Q)$ be such that $Av = w$. 
    Observe that 
    \[ A \begin{bmatrix} \sigma_i(v_1) \\ \vdots \\ \sigma_i(v_n) \end{bmatrix} 
    = \begin{bmatrix} \sigma_i(a_{11}v_1 + \cdots + a_{1n}v_n) \\ \vdots \\ 
        \sigma_i(a_{n1}v_1 + \cdots + a_{nn}v_n) \end{bmatrix} 
    = \begin{bmatrix} \sigma_i(w_1) \\ \vdots \\ \sigma_i(w_n) \end{bmatrix}. \] 
    Therefore, we deduce that 
    \[ A \begin{bmatrix} \sigma_1(v_1) & \cdots & \sigma_n(v_1) \\ 
        \vdots & \ddots & \vdots \\ 
        \sigma_1(v_n) & \cdots & \sigma_n(v_n) \end{bmatrix} 
    = \begin{bmatrix} \sigma_1(w_1) & \cdots & \sigma_n(w_1) \\ 
        \vdots & \ddots & \vdots \\ 
        \sigma_1(w_n) & \cdots & \sigma_n(w_n) \end{bmatrix}. \] 
    The matrices above are the transposes of the matrices in the 
    definition of the discriminant, since the columns encode the embeddings 
    and the rows encode the elements this time. Taking squared determinants 
    gives the nice relationship
    \[ (\det A)^2 \cdot \disc(v) = \disc(w). \] 

    \item Let $\{v_1, \dots, v_n\} \subseteq {\cal O}_K$ be an integral basis.
    Suppose that $\{w_1, \dots, w_n\} \subseteq {\cal O}_K$. Then 
    for all $i = 1, \dots, n$, there must exist some $c_{ij} \in \Z$ such that 
    \[ w_i = c_{i1} v_1 + \cdots + c_{in} v_n. \] 
    Then we can write $w = Cv$ where $C = [c_{ij}]$, which yields 
    \[ \disc(w) = (\det C)^2 \cdot \disc(v). \] 
    Denoting the integral basis by $\beta = \{v_1, \dots, v_n\}$ and defining 
    the map $T : {\cal O}_K \to {\cal O}_K$ by $T(v_i) = w_i$ (which is a 
    $\Z$-linear homomorphism), we obtain 
    \[ [T]_\beta 
        = \Big[\,[T(v_1)]_\beta \;\; \cdots \;\;[T(v_n)]_\beta\,\Big]
        = \Big[\,[w_1]_\beta \;\; \cdots \;\; [w_n]_\beta\,\Big]
        = C^T. \] 

    \item Let $A \in M_n(\Z)$. If $A$ is invertible, then 
    \[ A^{-1} = \frac{1}{\det(A)} \adj(A), \] 
    where $\adj(A)$ denotes the adjugate of $A$. In particular, we have 
    $\adj(A) \in M_n(\Z)$, so $A^{-1} \in M_n(\Z)$ if and only if 
    $\det(A) \in \{\pm1\}$. 

    \item Let $\{a_1, \dots, a_n\} \subseteq K$ and consider the dependence 
    relation 
    \[ c_1 a_1 + \cdots + c_n a_n = 0 \] 
    for some $c_i \in \Q$ which are not all zero. Then we have 
    \[ c_1 \sigma_i(a_1) + \cdots + c_n \sigma_i(a_n) = 0 \] 
    for all $i = 1, \dots, n$, which implies that the columns of 
    $[\sigma_i(a_j)]$ are linearly dependent. Hence, we obtain 
    \[ \disc(a_1, \dots, a_n) = \det\,[\sigma_i(a_j)]^2 = 0. \] 
    We leave it as an exercise to verify that the converse holds. 
    That is, $\{a_1, \dots, a_n\} \subseteq K$ is linearly dependent 
    if and only if $\disc(a_1, \dots, a_n) = 0$. 
    
    \item Let $\{v_1, \dots, v_n\}, \{w_1, \dots, w_n\} \subseteq {\cal O}_K$. 
    If $\disc(v) = \disc(w)$ and $\{v_1, \dots, v_n\}$ is an integral 
    basis, then we have $Cv = w$ for some $C \in M_n(\Z)$ by (4). Then we have 
    \[ (\det C)^2 \cdot \disc(v) = \disc(w), \] 
    which implies that $(\det C)^2 = 1$ since $\{v_1, \dots, v_n\}$ 
    is an integral basis and hence $\disc(v) = \disc(w) \neq 0$. By (5),
    it follows that $C$ is invertible with $C^{-1} \in M_n(\Z)$. 
    Then $C^T$ is also invertible with integer inverse, which implies that 
    the map $T : {\cal O}_K \to {\cal O}_K$ given by $T(v_i) = w_i$ is 
    an invertible $\Z$-linear map; in other words, it is an isomorphism! 
    Hence, $\{w_1, \dots, w_n\}$ is also an integral basis. 

    Conversely, if $\{v_1, \dots, v_n\}, \{w_1, \dots, w_n\} \subseteq 
    {\cal O}_K$ are both integral bases, then $Av = w$ and $Bw = v$ for some 
    $A, B \in M_n(\Z)$. Then we have 
    \begin{align*}
        (\det A)^2 \cdot \disc(v) &= \disc(w), \\ 
        (\det B)^2 \cdot \disc(w) &= \disc(v), 
    \end{align*}
    which gives us $\disc(w) \mid \disc(v)$ and $\disc(v) \mid \disc(w)$ 
    since $\det(A), \det(B) \in \Z$. Moreover, they have the same sign, 
    so $\disc(v) = \disc(w)$. 

    In summary, given an integral basis $\{v_1, \dots, v_n\} \subseteq 
    {\cal O}_K$, another subset $\{w_1, \dots, w_n\}$ is an integral 
    basis for ${\cal O}_K$ if and only if $\disc(v) = \disc(w)$. 
\end{enumerate}

\subsection{Discriminant of a Number Field}\label{subsec:2.2}
Let $K$ be a number field with degree $[K : \Q] = n$. 
Due to (7) above, every integral basis for ${\cal O}_K$ has the 
same discriminant. This motivates the following definition. 

\begin{defn}{defn:2.2}
    Let $K$ be a number field with degree $[K : \Q] = n$, and let 
    $\{v_1, \dots, v_n\}$ be an integral basis for ${\cal O}_K$. The
    {\bf discriminant} of $K$ is 
    \[ \disc(K) := \disc(v_1, \dots, v_n). \] 
\end{defn}

Let's take a number field we've already worked with before. Let $d \neq 1$ 
be squarefree and consider $K = \Q(\sqrt{d})$. We saw in the beginning 
of Section~\ref{subsec:1.3} that the algebraic integers in $K$ took 
different forms depending on the choice of $d$.
\begin{enumerate}[(1)]
    \item If $d \equiv 1 \pmod 4$, then $\{1, \frac{1+\sqrt{d}}2\}$ is an integral basis for ${\cal O}_K$. 
    The discriminant of $K$ is 
    \[ \disc(K) = \det\begin{bmatrix} 1 & \frac{1+\sqrt{d}}2 \\ 1 & \frac{1-\sqrt{d}}2 \end{bmatrix}^2 
    = \left(\frac{1-\sqrt{d}}2 - \frac{1+\sqrt{d}}2 \right)^2 = (-\sqrt{d})^2 = d. \]
    \item If $d \equiv 2, 3 \pmod 4$, then $\{1, \sqrt{d}\}$ is an integral basis 
    for ${\cal O}_K$. The discriminant of $K$ is 
    \[ \disc(K) = \det\begin{bmatrix} 1 & \sqrt{d} \\ 1 & -\sqrt{d} \end{bmatrix}^2 = 4d. \] 
\end{enumerate}

\subsection{Computational Considerations}\label{subsec:2.3}
The reason why we could compute the discriminant so easily in the above 
example is because we already knew what an integral basis for ${\cal O}_K$ 
was. However, finding an integral basis in general is a difficult task. 
Therefore, we should consider alternative ways of computing the discriminant. 

\begin{defn}{defn:2.3}
    Let $p(x) = (x-\alpha_1)(x-\alpha_2) \cdots (x-\alpha_n) \in \C[x]$. 
    The {\bf discriminant} of $p(x)$ is 
    \[ \disc(p(x)) = \prod_{i<j} (\alpha_i - \alpha_j)^2. \] 
\end{defn}

It is not hard to verify that the discriminant of a monic quadratic is 
\[ \disc(x^2 + bx + c) = b^2 - 4c, \] 
and the discriminant of a depressed cubic is 
\[ \disc(x^3 + bx + c) = -4b^3 - 27c^2. \] 
Note that a general monic cubic $x^3 + ax^2 + bx + c$ can be converted 
into a depressed cubic by making the substitution $x \mapsto x - \frac{a}{3}$
to eliminate the $x^2$ term. The discriminant remains unchanged because 
the linear shifts are cancelled out by the $\alpha_i - \alpha_j$ terms. 

We give another definition of the discriminant for simple extensions. 

\begin{defn}{defn:2.4}
    Let $\alpha \in \C$ such that $[\Q(\alpha) : \Q] = n$. Then the 
    {\bf discriminant} of $\alpha$ is 
    \[ \disc(\alpha) := \disc(1, \alpha, \alpha^2, \dots, \alpha^{n-1}). \]
\end{defn}

Let's jump into another investigation, this one much shorter than the last. 
\begin{enumerate}[(1)]
    \item Let $\alpha \in {\cal O}_K$ with $[\Q(\alpha) : \Q] = n$. Then 
    $\{1, \alpha, \alpha^2, \dots, \alpha^{n-1}\}$ is an integral basis 
    for $\Z[\alpha]$. 

    \item Let $\alpha \in {\cal O}_K$. Set $K = \Q(\alpha)$ and suppose that
    $[K : \Q] = n$. Then we have 
    \[ \disc(\alpha) = \det\begin{bmatrix} 
        1 & \alpha_1 & \alpha_1^2 & \cdots & \alpha_1^{n-1} \\ 
        1 & \alpha_2 & \alpha_2^2 & \cdots & \alpha_2^{n-1} \\ 
        \vdots & \vdots & \vdots & \ddots & \vdots \\ 
        1 & \alpha_n & \alpha_n^2 & \cdots & \alpha_n^{n-1}
    \end{bmatrix}^2 = \prod_{i<j} (\alpha_i - \alpha_j)^2 = \disc(p(x)), \] 
    where $p(x)$ is the minimal polynomial of $\alpha$. Here, we got a 
    Vandermonde matrix squared!

    \item Let $\alpha \in {\cal O}_K$. Set $K = \Q(\alpha)$ and suppose that
    $[K : \Q] = n$. Let $\{v_1, \dots, v_n\}$ be an integral basis for 
    ${\cal O}_K$. Then for some $A \in M_n(\Z)$, we have 
    \[ \begin{bmatrix} 1 \\ \alpha \\ \vdots \\ \alpha^{n-1} \end{bmatrix} 
    = A \begin{bmatrix} v_1 \\ v_2 \\ \vdots \\ v_n \end{bmatrix}. \] 
    Then we deduce that 
    \[ \disc(\alpha) = (\det A)^2 \cdot \disc(K) = [{\cal O}_K : 
    \Z[\alpha]]^2 \cdot \disc(K). \] 
    The last equality follows from \ref{A2-4}, noting that ${\cal O}_K
    \cong \Z^n$ and $\Z[\alpha]$ is a submodule of ${\cal O}_K$ of rank $n$. 
    In particular, if $\disc(\alpha)$ is squarefree, then we must have 
    ${\cal O}_K = \Z[\alpha]$. 
\end{enumerate}

Suppose that $\alpha \in \C$ is a root of $p(x) = x^3 + x + 1$, which is 
irreducible by the rational roots theorem. Then 
\[ \disc(\alpha) = -4 - 27 = -31 \] 
is squarefree, so if $K = \Q(\alpha)$, then ${\cal O}_K = \Z[\alpha] 
= \{a + b\alpha + c\alpha^2 : a, b, c \in \Z\}$.